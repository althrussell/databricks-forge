bundle:
  name: databricks-forge

apps:
  databricks-forge:
    name: "Databricks Forge AI"
    description: "Discover AI-powered use cases from Unity Catalog metadata"
    source_code_path: .

    resources:
      - name: sql-warehouse
        type: sql_warehouse
        description: "SQL Warehouse for metadata queries and generated SQL execution"
      - name: serving-endpoint
        type: serving_endpoint
        description: "Model Serving endpoint for premium LLM tasks (use case generation, scoring, SQL generation)"
      - name: serving-endpoint-fast
        type: serving_endpoint
        description: "Model Serving endpoint for fast LLM tasks (classification, enrichment, clustering)"

    env:
      - name: DATABRICKS_WAREHOUSE_ID
        value_from:
          resource: sql-warehouse
          key: id
      - name: DATABRICKS_SERVING_ENDPOINT
        value_from:
          resource: serving-endpoint
          key: name
      - name: DATABRICKS_SERVING_ENDPOINT_FAST
        value_from:
          resource: serving-endpoint-fast
          key: name
